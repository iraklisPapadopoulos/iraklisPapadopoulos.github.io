install.packages("faux")
?sim_df
library(faux)
?sim_df
?ggboxplot
library(ggpubr)
?sim_df
?survival
?survfit
library(survival)
?survival
# Load required libraries
library(survival)
library(tibble)
# Set a seed for reproducibility
set.seed(123)
# Number of observations
n <- 100
# Generate a covariate (continuous)
covariate <- rnorm(n)
# Generate survival time (time to event)
time <- rexp(n, rate = 0.1)  # Exponential distribution with rate = 0.1
# Create event indicator (1=event occurred, 0=censored)
event <- rbinom(n, size = 1, prob = pexp(time, rate = 0.1))
# Create a data frame
data <- tibble(
Time = pmin(time, 10),  # Truncate survival time at 10 units for illustration
Event = event,
Covariate = covariate
)
# Display the first few rows of the dataset
head(data)
View(data)
# Load required libraries
library(survival)
library(tibble)
# Set a seed for reproducibility
set.seed(123)
# Number of observations
n <- 100
# Generate an imaginary ID
id <- 1:n
# Generate a covariate (continuous)
covariate <- rnorm(n)
# Generate survival time (time to event)
time <- rexp(n, rate = 0.1)  # Exponential distribution with rate = 0.1
# Create event indicator (1=event occurred, 0=censored)
event <- rbinom(n, size = 1, prob = pexp(time, rate = 0.1))
# Create a data frame
data <- tibble(
ID = id,
Time = pmin(time, 10),  # Truncate survival time at 10 units for illustration
Event = event,
Covariate = covariate
)
# Display the first few rows of the dataset
head(data)
View(data)
# Load required libraries
library(survival)
library(tibble)
# Set a seed for reproducibility
set.seed(123)
# Number of observations
n <- 100
# Generate an imaginary ID
id <- 1:n
# Generate a covariate (continuous)
covariate <- rnorm(n)
# Generate a binary treatment variable (0 or 1)
treatment <- rbinom(n, size = 1, prob = 0.5)
# Generate survival time (time to event)
time <- rexp(n, rate = 0.1)  # Exponential distribution with rate = 0.1
# Create event indicator (1=event occurred, 0=censored)
event <- rbinom(n, size = 1, prob = pexp(time, rate = 0.1))
# Create a data frame
data <- tibble(
ID = id,
Time = pmin(time, 10),  # Truncate survival time at 10 units for illustration
Event = event,
Covariate = covariate,
Treatment = treatment
)
# Display the first few rows of the dataset
head(data)
View(data)
# Fit Kaplan-Meier survival curve
fit_km <- survfit(Surv(Time, Event) ~ Treatment, data = data)
# Display the Kaplan-Meier plot
plot(fit_km, col = c("blue", "red"), lty = c(1, 2), main = "Kaplan-Meier Survival Curve by Treatment",
xlab = "Time", ylab = "Survival Probability")
legend("topright", legend = levels(as.factor(data$Treatment)), col = c("blue", "red"), lty = c(1, 2))
# Load required libraries
library(survival)
library(tibble)
# Set a seed for reproducibility
set.seed(123)
# Number of observations
n <- 100
# Generate an imaginary ID
id <- 1:n
# Generate a covariate (continuous)
covariate <- rnorm(n)
# Generate a binary treatment variable (0 or 1)
treatment <- rbinom(n, size = 1, prob = 0.5)
# Generate survival time (time to event)
time <- rexp(n, rate = ifelse(treatment == 1, 0.08, 0.1))  # Higher rate for Treatment A
# Create event indicator (1=event occurred, 0=censored)
event <- rbinom(n, size = 1, prob = pexp(time, rate = 0.1))
# Map treatment categories to "Treatment A" and "Placebo"
treatment_category <- factor(ifelse(treatment == 1, "Treatment A", "Placebo"), levels = c("Placebo", "Treatment A"))
# Create a data frame
data <- tibble(
ID = id,
Time = pmin(time, 10),  # Truncate survival time at 10 units for illustration
Event = event,
Covariate = covariate,
Treatment = treatment_category
)
# Display the first few rows of the dataset
head(data)
# Fit Kaplan-Meier survival curve
fit_km <- survfit(Surv(Time, Event) ~ Treatment, data = data)
# Display the Kaplan-Meier plot
plot(fit_km, col = c("blue", "red"), lty = c(1, 2), main = "Kaplan-Meier Survival Curve by Treatment",
xlab = "Time", ylab = "Survival Probability")
legend("topright", legend = levels(as.factor(data$Treatment)),col = c("blue", "red"), lty = c(1, 2))
# Fit Kaplan-Meier survival curve
fit_km <- survfit(Surv(Time, Event) ~ Treatment, data = data)
# Plot Kaplan-Meier curves
g <- ggsurvplot(
fit_km,
data = data,
risk.table = TRUE,
pval = TRUE,
conf.int = TRUE,
ggtheme = theme_minimal(),
palette = c("#0073C2FF", "#EFC000FF"),  # Blue for Treatment A, Yellow for Placebo
legend.title = "Treatment",
legend.labs = c("Treatment A", "Placebo"),
xlab = "Time",
ylab = "Survival Probability",
main = "Kaplan-Meier Survival Curves by Treatment"
)
library(survival)
library(tibble)
library(ggplot2)
# Plot Kaplan-Meier curves
g <- ggsurvplot(
fit_km,
data = data,
risk.table = TRUE,
pval = TRUE,
conf.int = TRUE,
ggtheme = theme_minimal(),
palette = c("#0073C2FF", "#EFC000FF"),  # Blue for Treatment A, Yellow for Placebo
legend.title = "Treatment",
legend.labs = c("Treatment A", "Placebo"),
xlab = "Time",
ylab = "Survival Probability",
main = "Kaplan-Meier Survival Curves by Treatment"
)
library(survminer)
# Fit Kaplan-Meier survival curve
fit_km <- survfit(Surv(Time, Event) ~ Treatment, data = data)
# Plot Kaplan-Meier curves
g <- ggsurvplot(
fit_km,
data = data,
risk.table = TRUE,
pval = TRUE,
conf.int = TRUE,
ggtheme = theme_minimal(),
palette = c("#0073C2FF", "#EFC000FF"),  # Blue for Treatment A, Yellow for Placebo
legend.title = "Treatment",
legend.labs = c("Treatment A", "Placebo"),
xlab = "Time",
ylab = "Survival Probability",
main = "Kaplan-Meier Survival Curves by Treatment"
)
print(g)
# Load required libraries
library(survival)
library(tibble)
library(ggplot2)
# Set a seed for reproducibility
set.seed(123)
# Number of observations
n <- 100
# Generate an imaginary ID
id <- 1:n
# Generate a covariate (continuous)
covariate <- rnorm(n)
# Generate a binary treatment variable (0 or 1)
treatment <- rbinom(n, size = 1, prob = 0.5)
# Generate survival time (time to event)
time <- rexp(n, rate = ifelse(treatment == 1, 0.08, 0.1))  # Higher rate for Treatment A
# Create event indicator (1=event occurred, 0=censored)
event <- rbinom(n, size = 1, prob = pexp(time, rate = 0.1))
# Map treatment categories to "Treatment A" and "Placebo"
treatment_category <- factor(ifelse(treatment == 1, "Treatment A", "Placebo"), levels = c("Placebo", "Treatment A"))
# Create a data frame
data <- tibble(
ID = id,
Time = pmin(time, 10),  # Truncate survival time at 10 units for illustration
Event = event,
Covariate = covariate,
Treatment = treatment_category
)
# Display the first few rows of the dataset
head(data)
# Plot Kaplan-Meier curves
g <- ggsurvplot(
fit_km,
data = data,
risk.table = TRUE,
pval = TRUE,
conf.int = TRUE,
ggtheme = theme_minimal(),
palette = c("#0073C2FF", "#EFC000FF"),  # Blue for Treatment A, Yellow for Placebo
legend.title = "Treatment",
legend.labs = c("Treatment A", "Placebo"),
xlab = "Time",
ylab = "Survival Probability",
main = "Kaplan-Meier Survival Curves by Treatment"
)
print(g)
# Perform log-rank test
logrank_test <- survdiff(Surv(Time, Event) ~ Treatment, data = data)
# Display the log-rank test results
print(logrank_test)
